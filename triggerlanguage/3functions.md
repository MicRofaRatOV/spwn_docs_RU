# Функции

В SPWN "функции", в понимании большинства языков программирования, делятся на две разные вещи: триггерные функции и макросы (также называемые просто "функциями"). Вкратце, разница в том, что вызов функции триггера - это [_интерпретируемое действие_, а вызов макроса, это - _скомпилированное действие_](compiletime.md).1
На практике это означает, что макрос имеет больше возможностей, таких как возврат и прием аргументов, в то время как функция триггера более _эффективна для групп_ и _эффективна для объектов_.

## Вызов функций триггеров и макросов

Допустим, у нас есть _функция триггера_ `do_thing`. Давайте вызовем её:

```spwn
do_thing!
```

В данном примере мы имеем _макрос_, названный `do_other_thing` (он не принимает аргументы), мы можем вызвать его так:

```spwn
do_other_thing()
```

# Объявление функций триггеров и макросов

В SPWN функции триггеров и макросы являются типами данных, что позволяет нам просто поместить их в переменную.

Объявление макроса:

```spwn
/*
([аргументы]) {[код]}
*/

my_macro = (argument1, argument2) {
    //код здесь
}
```

Объявление функции:

```spwn
/*
!{[код]}
*/

my_function = !{
    //код здесь
}
```

Если вы хотите, чтобы у вашего макроса был необязательный аргумент, вы можете передать ему значение по умолчанию:

```spwn
myfunc = (arg1, arg2 = 5) {/* код */}
```

`arg1` обязательный аргумент, когда `arg2` не требует обязательного объявления, так как он имеет значение по умолчанию.

Аргументы, передаваемые макросу, по умолчанию неизменяемы. Если вы хотите изменить значения аргумента внутри вашего макроса, вам придется переопределить его, как переменную:

```spwn
myfunc = (arg1) {
    let arg1 = arg1
}
```

## Рекурсия

Вы можете сделать рекурсию в макросе следующим образом:

```spwn
recur = () {
    /* код */
    recur()
}
```

> **Примечание:** Так же вы можете определить макрос так:
>
> `my_macro = (аргументы) => выражение`
>
> Для макросов с одним аргументом можно и так:
>
> `my_macro = аргумент=>выражение`
>
> Это будет эквивалентно с
>
> `my_macro = (аргументы) {возвращаемое выражение}`

[**Следующая страница**](triggerlanguage/4control_flow.md)
